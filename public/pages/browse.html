<script>
	$('#show_list').click(function(e){
		var desiredShow = e.target.innerHTML;
		var list = [];
		ss(socket).emit("episode_info",desiredShow,UUID);
		ss(socket).emit("show_retrieve",desiredShow,UUID);
		var prog = document.getElementById('progress_list');
		prog.innerHTML ="<div class=\"progress\"><div class=\"indeterminate\"></div></div>";
		showTitle = desiredShow;

	});
	ss(socket).emit("pop_list_req");
	var list = document.getElementById("show_list");

	for(var i in showList){
		list.innerHTML += "<a href=\"#!\" class=\"collection-item\">" + showList[i] + "</a>";
	//	list.innerHTML += "<a href><img src=\"download.jpg\" alt=\"\" /></a>"
	}

	ss(socket).on("episode_info",function(data,uid){
		if(UUID === uid){
			if(data.img_path == null){
				titleImage = "/meta/no_image.png";
			}else{
				titleImage = data.img_path;
			}
			description = data.desc;
			console.log(data.img_path);
			console.log(data.desc);
		}
	});

	ss(socket).on("show_retrieve_complete", function(list,uid){
		if(UUID === uid){
			listEpisodes = list;
			var prog = document.getElementById('progress_list');
			prog.innerHTML = "";
			console.log(listEpisodes);
			$("#fragment").load("pages/showListTemplate.html"); //race condition
		}
	});



</script>
<p id = "progress_list">
	<div id="show_list" class="collection">
	</div>
</p>